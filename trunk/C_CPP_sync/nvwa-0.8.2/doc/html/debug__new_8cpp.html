<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Nvwa: debug_new.cpp File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>debug_new.cpp File Reference</h1>Implementation of debug versions of new and delete to check leakage. <a href="#_details">More...</a>
<p>
<code>#include &lt;new&gt;</code><br>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include &lt;limits.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &quot;<a class="el" href="fast__mutex_8h-source.html">fast_mutex.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="static__assert_8h-source.html">static_assert.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="debug__new_8h-source.html">debug_new.h</a>&quot;</code><br>

<p>
Include dependency graph for debug_new.cpp:<p><center><img src="debug__new_8cpp__incl.png" border="0" usemap="#debug_new.cpp_map" alt=""></center>
<map name="debug_new.cpp_map">
<area href="fast__mutex_8h.html" shape="rect" coords="176,411,275,438" alt="">
<area href="static__assert_8h.html" shape="rect" coords="172,360,279,387" alt="">
<area href="debug__new_8h.html" shape="rect" coords="175,158,276,184" alt="">
</map>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnew__ptr__list__t.html">new_ptr_list_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure to store the position information where <code>new</code> occurs.  <a href="structnew__ptr__list__t.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#81109c537e52b6a3ea0e758629d2043c">_DEBUG_NEW_ALIGNMENT</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The alignment requirement of allocated memory blocks.  <a href="#81109c537e52b6a3ea0e758629d2043c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#e9d1add7a23f852052fc07d8db81d875">_DEBUG_NEW_CALLER_ADDRESS</a>&nbsp;&nbsp;&nbsp;__builtin_return_address(0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The expression to return the caller address.  <a href="#e9d1add7a23f852052fc07d8db81d875"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#3517a7b8e432b66e520063714f72b41e">_DEBUG_NEW_ERROR_ACTION</a>&nbsp;&nbsp;&nbsp;abort()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The action to take when an error occurs.  <a href="#3517a7b8e432b66e520063714f72b41e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#dd048ce000e4d5ffc418a3f41a8973b2">_DEBUG_NEW_FILENAME_LEN</a>&nbsp;&nbsp;&nbsp;44</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The length of file name stored if greater than zero.  <a href="#dd048ce000e4d5ffc418a3f41a8973b2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#3f212eaa67d48d8d1dfbdeeb507eb9e5">_DEBUG_NEW_PROGNAME</a>&nbsp;&nbsp;&nbsp;NULL</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The program (executable) name to be set at compile time.  <a href="#3f212eaa67d48d8d1dfbdeeb507eb9e5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#3345b568583c37212e07e475097ea4fb">_DEBUG_NEW_STD_OPER_NEW</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro to indicate whether the standard-conformant behaviour of <code>operator new</code> is wanted.  <a href="#3345b568583c37212e07e475097ea4fb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#46dc09d4f6f36d94ad0df7df95871009">_DEBUG_NEW_TAILCHECK</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro to indicate whether a writing-past-end check will be performed.  <a href="#46dc09d4f6f36d94ad0df7df95871009"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#10eee6ab2d75cf33ed69772f532caa19">_DEBUG_NEW_TAILCHECK_CHAR</a>&nbsp;&nbsp;&nbsp;0xCC</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Value of the padding bytes at the end of a memory block.  <a href="#10eee6ab2d75cf33ed69772f532caa19"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#d55b04efe1e00d15514060db51b6ceed">_DEBUG_NEW_USE_ADDR2LINE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Whether to use <em>addr2line</em> to convert a caller address to file/line information.  <a href="#d55b04efe1e00d15514060db51b6ceed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#37fd1b6f3ab2fdaeebebf5e8191f35cb">_DEBUG_NEW_REDEFINE_NEW</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Macro to indicate whether redefinition of <code>new</code> is wanted.  <a href="#37fd1b6f3ab2fdaeebebf5e8191f35cb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#23ef1ccec5760e59c087c70631d1c7ea">align</a>(s)&nbsp;&nbsp;&nbsp;(((s) + _DEBUG_NEW_ALIGNMENT - 1) &amp; ~(_DEBUG_NEW_ALIGNMENT - 1))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the aligned value of memory block size.  <a href="#23ef1ccec5760e59c087c70631d1c7ea"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#9441b3304b93579a883f724e65258a7d">print_position_from_addr</a> (const void *addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tries printing the position information from an instruction address.  <a href="#9441b3304b93579a883f724e65258a7d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#09ed89fae62b1fc00d25c37a184d091e">print_position</a> (const void *ptr, int line)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prints the position information of a memory operation point.  <a href="#09ed89fae62b1fc00d25c37a184d091e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#054b98061f7b7bc9aa684decfa8614fc">alloc_mem</a> (size_t size, const char *file, int line, bool is_array)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocates memory and initializes control data.  <a href="#054b98061f7b7bc9aa684decfa8614fc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#63bdc5947bb2fb549c12e536da1dd2fc">free_pointer</a> (void *pointer, void *addr, bool is_array)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees memory and adjusts pointers.  <a href="#63bdc5947bb2fb549c12e536da1dd2fc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#d79bbcc90568c9fc2e31bb6a259d594f">check_leaks</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks for memory leaks.  <a href="#d79bbcc90568c9fc2e31bb6a259d594f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#edb663f18631d53758eb032fc9b62bac">check_mem_corruption</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks for heap corruption.  <a href="#edb663f18631d53758eb032fc9b62bac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#82b4fcc5e4cfba2e146c56604a283344">operator new</a> (size_t size, const char *file, int line)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#c6a058e9defc8cd61985fa21887b59c4">operator new[]</a> (size_t size, const char *file, int line)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#205ed048fdf5259c2e8e0cb60ee8f719">operator new</a> (size_t size)  throw (std::bad_alloc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#63ce4f64887b9307317aee5baae6b18f">operator new[]</a> (size_t size)  throw (std::bad_alloc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#74e446b8213b369d9656b438bf72b9cf">operator new</a> (size_t size, const std::nothrow_t &amp;)  throw ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#96bc86aa365757c01bf22860197314e2">operator new[]</a> (size_t size, const std::nothrow_t &amp;)  throw ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#898fe16a35d180bf1dd4d55df6576d08">operator delete</a> (void *pointer)  throw ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#68d6173eacb62f3e746a04abc2cae1d9">operator delete[]</a> (void *pointer)  throw ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#4784b88c3eeedd5880e89ca2443a2d02">operator delete</a> (void *pointer, const char *file, int line)  throw ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#26b37ec27517250ea0d35d08fe04babe">operator delete[]</a> (void *pointer, const char *file, int line)  throw ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#e9cb9df1663d0a859cde5d8f02efb07d">operator delete</a> (void *pointer, const std::nothrow_t &amp;)  throw ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#53c0184f678cad0a35b882521462a751">operator delete[]</a> (void *pointer, const std::nothrow_t &amp;)  throw ()</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#2fbd8c9858c93101dd414b04e5fa3d92">MAGIC</a> = 0x4442474E</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Magic number for error detection.  <a href="#2fbd8c9858c93101dd414b04e5fa3d92"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#e33c2ee2b27de7eb8c39cca818794f42">ALIGNED_LIST_ITEM_SIZE</a> = align(sizeof(<a class="el" href="structnew__ptr__list__t.html">new_ptr_list_t</a>))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The extra memory allocated by <code>operator new</code>.  <a href="#e33c2ee2b27de7eb8c39cca818794f42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structnew__ptr__list__t.html">new_ptr_list_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#c24eda8a669e2aab1fd00fdd6f29a6a0">new_ptr_list</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of all new'd pointers.  <a href="#c24eda8a669e2aab1fd00fdd6f29a6a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classfast__mutex.html">fast_mutex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#9cf0f6da1ec153af3836d5c92b652666">new_ptr_lock</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The mutex guard to protect simultaneous access to the pointer list.  <a href="#9cf0f6da1ec153af3836d5c92b652666"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classfast__mutex.html">fast_mutex</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#84f6ada4e7b4a297bbf16d599e50490c">new_output_lock</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The mutex guard to protect simultaneous output to <a class="el" href="debug__new_8h.html#e49574fba151ef07654d518cc827434b">new_output_fp</a>.  <a href="#84f6ada4e7b4a297bbf16d599e50490c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#4ad72665d96b8cc0509ced244f4e3373">total_mem_alloc</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Total memory allocated in bytes.  <a href="#4ad72665d96b8cc0509ced244f4e3373"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#027ddee7deed7e9605792f5e6643ce31">new_autocheck_flag</a> = true</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flag to control whether <a class="el" href="debug__new_8h.html#d79bbcc90568c9fc2e31bb6a259d594f">check_leaks</a> will be automatically called on program exit.  <a href="#027ddee7deed7e9605792f5e6643ce31"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#9a72bb4cd56352e3b8c7b030d52f6f9c">new_verbose_flag</a> = false</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flag to control whether verbose messages are output.  <a href="#9a72bb4cd56352e3b8c7b030d52f6f9c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">FILE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#e49574fba151ef07654d518cc827434b">new_output_fp</a> = stderr</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the output stream.  <a href="#e49574fba151ef07654d518cc827434b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug__new_8cpp.html#61bfe5a99f6c19a53f71c1d01bdfd982">new_progname</a> = _DEBUG_NEW_PROGNAME</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the program name.  <a href="#61bfe5a99f6c19a53f71c1d01bdfd982"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Implementation of debug versions of new and delete to check leakage. 
<p>
<dl class="version" compact><dt><b>Version:</b></dt><dd>4.14, 2008/10/20 </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Wu Yongwei </dd></dl>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="81109c537e52b6a3ea0e758629d2043c"></a><!-- doxytag: member="debug_new.cpp::_DEBUG_NEW_ALIGNMENT" ref="81109c537e52b6a3ea0e758629d2043c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DEBUG_NEW_ALIGNMENT&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The alignment requirement of allocated memory blocks. 
<p>
It must be a power of two. 
</div>
</div><p>
<a class="anchor" name="e9d1add7a23f852052fc07d8db81d875"></a><!-- doxytag: member="debug_new.cpp::_DEBUG_NEW_CALLER_ADDRESS" ref="e9d1add7a23f852052fc07d8db81d875" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DEBUG_NEW_CALLER_ADDRESS&nbsp;&nbsp;&nbsp;__builtin_return_address(0)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The expression to return the caller address. 
<p>
<a class="el" href="debug__new_8cpp.html#09ed89fae62b1fc00d25c37a184d091e">print_position</a> will later on use this address to print the position information of memory operation points. 
</div>
</div><p>
<a class="anchor" name="3517a7b8e432b66e520063714f72b41e"></a><!-- doxytag: member="debug_new.cpp::_DEBUG_NEW_ERROR_ACTION" ref="3517a7b8e432b66e520063714f72b41e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DEBUG_NEW_ERROR_ACTION&nbsp;&nbsp;&nbsp;abort()          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The action to take when an error occurs. 
<p>
The default behaviour is to call <em>abort</em>, unless <code>_DEBUG_NEW_ERROR_CRASH</code> is defined, in which case a segmentation fault will be triggered instead (which can be useful on platforms like Windows that do not generate a core dump when <em>abort</em> is called). 
</div>
</div><p>
<a class="anchor" name="dd048ce000e4d5ffc418a3f41a8973b2"></a><!-- doxytag: member="debug_new.cpp::_DEBUG_NEW_FILENAME_LEN" ref="dd048ce000e4d5ffc418a3f41a8973b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DEBUG_NEW_FILENAME_LEN&nbsp;&nbsp;&nbsp;44          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The length of file name stored if greater than zero. 
<p>
If it is zero, only a const char pointer will be stored. Currently the default behaviour is to copy the file name, because I found that the exit leakage check cannot access the address of the file name sometimes (in my case, a core dump will occur when trying to access the file name in a shared library after a <code>SIGINT</code>). The current default value makes the size of <a class="el" href="structnew__ptr__list__t.html">new_ptr_list_t</a> 64 on 32-bit platforms. 
</div>
</div><p>
<a class="anchor" name="3f212eaa67d48d8d1dfbdeeb507eb9e5"></a><!-- doxytag: member="debug_new.cpp::_DEBUG_NEW_PROGNAME" ref="3f212eaa67d48d8d1dfbdeeb507eb9e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DEBUG_NEW_PROGNAME&nbsp;&nbsp;&nbsp;NULL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The program (executable) name to be set at compile time. 
<p>
It is better to assign the full program path to <a class="el" href="debug__new_8h.html#61bfe5a99f6c19a53f71c1d01bdfd982">new_progname</a> in <em>main</em> (at run time) than to use this (compile-time) macro, but this macro serves well as a quick hack. Note also that double quotation marks need to be used around the program name, i.e., one should specify a command-line option like <code>-D_DEBUG_NEW_PROGNAME=\"a.out\"</code> in <em>bash</em>, or <code>-D_DEBUG_NEW_PROGNAME=\"a.exe\"</code> in the Windows command prompt. 
</div>
</div><p>
<a class="anchor" name="37fd1b6f3ab2fdaeebebf5e8191f35cb"></a><!-- doxytag: member="debug_new.cpp::_DEBUG_NEW_REDEFINE_NEW" ref="37fd1b6f3ab2fdaeebebf5e8191f35cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DEBUG_NEW_REDEFINE_NEW&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro to indicate whether redefinition of <code>new</code> is wanted. 
<p>
Here it is defined to <code>0</code> to disable the redefinition of <code>new</code>. 
</div>
</div><p>
<a class="anchor" name="3345b568583c37212e07e475097ea4fb"></a><!-- doxytag: member="debug_new.cpp::_DEBUG_NEW_STD_OPER_NEW" ref="3345b568583c37212e07e475097ea4fb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DEBUG_NEW_STD_OPER_NEW&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro to indicate whether the standard-conformant behaviour of <code>operator new</code> is wanted. 
<p>
It is on by default now, but the user may set it to <code>0</code> to revert to the old behaviour. 
</div>
</div><p>
<a class="anchor" name="46dc09d4f6f36d94ad0df7df95871009"></a><!-- doxytag: member="debug_new.cpp::_DEBUG_NEW_TAILCHECK" ref="46dc09d4f6f36d94ad0df7df95871009" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DEBUG_NEW_TAILCHECK&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Macro to indicate whether a writing-past-end check will be performed. 
<p>
Define it to a positive integer as the number of padding bytes at the end of a memory block for checking. 
</div>
</div><p>
<a class="anchor" name="10eee6ab2d75cf33ed69772f532caa19"></a><!-- doxytag: member="debug_new.cpp::_DEBUG_NEW_TAILCHECK_CHAR" ref="10eee6ab2d75cf33ed69772f532caa19" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DEBUG_NEW_TAILCHECK_CHAR&nbsp;&nbsp;&nbsp;0xCC          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Value of the padding bytes at the end of a memory block. 
<p>

</div>
</div><p>
<a class="anchor" name="d55b04efe1e00d15514060db51b6ceed"></a><!-- doxytag: member="debug_new.cpp::_DEBUG_NEW_USE_ADDR2LINE" ref="d55b04efe1e00d15514060db51b6ceed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _DEBUG_NEW_USE_ADDR2LINE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Whether to use <em>addr2line</em> to convert a caller address to file/line information. 
<p>
Defining it to a non-zero value will enable the conversion (automatically done if GCC is detected). Defining it to zero will disable the conversion. 
</div>
</div><p>
<a class="anchor" name="23ef1ccec5760e59c087c70631d1c7ea"></a><!-- doxytag: member="debug_new.cpp::align" ref="23ef1ccec5760e59c087c70631d1c7ea" args="(s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define align          </td>
          <td>(</td>
          <td class="paramtype">s&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((s) + _DEBUG_NEW_ALIGNMENT - 1) &amp; ~(_DEBUG_NEW_ALIGNMENT - 1))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the aligned value of memory block size. 
<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="054b98061f7b7bc9aa684decfa8614fc"></a><!-- doxytag: member="debug_new.cpp::alloc_mem" ref="054b98061f7b7bc9aa684decfa8614fc" args="(size_t size, const char *file, int line, bool is_array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* alloc_mem           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_array</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocates memory and initializes control data. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>size of the required memory block </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>null-terminated string of the file name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>line</em>&nbsp;</td><td>line number </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is_array</em>&nbsp;</td><td>boolean value whether this is an array operation </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>pointer to the user-requested memory area; <code>NULL</code> if memory allocation is not successful </dd></dl>

</div>
</div><p>
<a class="anchor" name="d79bbcc90568c9fc2e31bb6a259d594f"></a><!-- doxytag: member="debug_new.cpp::check_leaks" ref="d79bbcc90568c9fc2e31bb6a259d594f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_leaks           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks for memory leaks. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>zero if no leakage is found; the number of leaks otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="edb663f18631d53758eb032fc9b62bac"></a><!-- doxytag: member="debug_new.cpp::check_mem_corruption" ref="edb663f18631d53758eb032fc9b62bac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_mem_corruption           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks for heap corruption. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>zero if no problem is found; the number of found memory corruptions otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="63bdc5947bb2fb549c12e536da1dd2fc"></a><!-- doxytag: member="debug_new.cpp::free_pointer" ref="63bdc5947bb2fb549c12e536da1dd2fc" args="(void *pointer, void *addr, bool is_array)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void free_pointer           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>is_array</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees memory and adjusts pointers. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pointer</em>&nbsp;</td><td>pointer to delete </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>pointer to the caller </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>is_array</em>&nbsp;</td><td>flag indicating whether it is invoked by a <code>delete[]</code> call </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e9cb9df1663d0a859cde5d8f02efb07d"></a><!-- doxytag: member="debug_new.cpp::operator delete" ref="e9cb9df1663d0a859cde5d8f02efb07d" args="(void *pointer, const std::nothrow_t &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator delete           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::nothrow_t &amp;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4784b88c3eeedd5880e89ca2443a2d02"></a><!-- doxytag: member="debug_new.cpp::operator delete" ref="4784b88c3eeedd5880e89ca2443a2d02" args="(void *pointer, const char *file, int line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator delete           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="898fe16a35d180bf1dd4d55df6576d08"></a><!-- doxytag: member="debug_new.cpp::operator delete" ref="898fe16a35d180bf1dd4d55df6576d08" args="(void *pointer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator delete           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pointer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="53c0184f678cad0a35b882521462a751"></a><!-- doxytag: member="debug_new.cpp::operator delete[]" ref="53c0184f678cad0a35b882521462a751" args="(void *pointer, const std::nothrow_t &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator delete[]           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::nothrow_t &amp;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="26b37ec27517250ea0d35d08fe04babe"></a><!-- doxytag: member="debug_new.cpp::operator delete[]" ref="26b37ec27517250ea0d35d08fe04babe" args="(void *pointer, const char *file, int line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator delete[]           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="68d6173eacb62f3e746a04abc2cae1d9"></a><!-- doxytag: member="debug_new.cpp::operator delete[]" ref="68d6173eacb62f3e746a04abc2cae1d9" args="(void *pointer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator delete[]           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pointer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="74e446b8213b369d9656b438bf72b9cf"></a><!-- doxytag: member="debug_new.cpp::operator new" ref="74e446b8213b369d9656b438bf72b9cf" args="(size_t size, const std::nothrow_t &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* operator new           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::nothrow_t &amp;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="205ed048fdf5259c2e8e0cb60ee8f719"></a><!-- doxytag: member="debug_new.cpp::operator new" ref="205ed048fdf5259c2e8e0cb60ee8f719" args="(size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* operator new           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">  throw (std::bad_alloc)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="82b4fcc5e4cfba2e146c56604a283344"></a><!-- doxytag: member="debug_new.cpp::operator new" ref="82b4fcc5e4cfba2e146c56604a283344" args="(size_t size, const char *file, int line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* operator new           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="96bc86aa365757c01bf22860197314e2"></a><!-- doxytag: member="debug_new.cpp::operator new[]" ref="96bc86aa365757c01bf22860197314e2" args="(size_t size, const std::nothrow_t &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* operator new[]           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::nothrow_t &amp;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%">  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="63ce4f64887b9307317aee5baae6b18f"></a><!-- doxytag: member="debug_new.cpp::operator new[]" ref="63ce4f64887b9307317aee5baae6b18f" args="(size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* operator new[]           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">  throw (std::bad_alloc)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c6a058e9defc8cd61985fa21887b59c4"></a><!-- doxytag: member="debug_new.cpp::operator new[]" ref="c6a058e9defc8cd61985fa21887b59c4" args="(size_t size, const char *file, int line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* operator new[]           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="09ed89fae62b1fc00d25c37a184d091e"></a><!-- doxytag: member="debug_new.cpp::print_position" ref="09ed89fae62b1fc00d25c37a184d091e" args="(const void *ptr, int line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void print_position           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prints the position information of a memory operation point. 
<p>
When <code>_DEBUG_NEW_USE_ADDR2LINE</code> is defined to a non-zero value, this function will try to convert a given caller address to file/line information with <em>addr2line</em>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ptr</em>&nbsp;</td><td>source file name if <em>line</em> is non-zero; caller address otherwise </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>line</em>&nbsp;</td><td>source line number if non-zero; indication that <em>ptr</em> is the caller address otherwise </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="9441b3304b93579a883f724e65258a7d"></a><!-- doxytag: member="debug_new.cpp::print_position_from_addr" ref="9441b3304b93579a883f724e65258a7d" args="(const void *addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool print_position_from_addr           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>addr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tries printing the position information from an instruction address. 
<p>
This is the version that uses <em>addr2line</em>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>the instruction address to convert and print </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><code>true</code> if the address is converted successfully (and the result is printed); <code>false</code> if no useful information is got (and nothing is printed) </dd></dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="e33c2ee2b27de7eb8c39cca818794f42"></a><!-- doxytag: member="debug_new.cpp::ALIGNED_LIST_ITEM_SIZE" ref="e33c2ee2b27de7eb8c39cca818794f42" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="debug__new_8cpp.html#e33c2ee2b27de7eb8c39cca818794f42">ALIGNED_LIST_ITEM_SIZE</a> = align(sizeof(<a class="el" href="structnew__ptr__list__t.html">new_ptr_list_t</a>))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The extra memory allocated by <code>operator new</code>. 
<p>

</div>
</div><p>
<a class="anchor" name="2fbd8c9858c93101dd414b04e5fa3d92"></a><!-- doxytag: member="debug_new.cpp::MAGIC" ref="2fbd8c9858c93101dd414b04e5fa3d92" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="debug__new_8cpp.html#2fbd8c9858c93101dd414b04e5fa3d92">MAGIC</a> = 0x4442474E          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Magic number for error detection. 
<p>

</div>
</div><p>
<a class="anchor" name="027ddee7deed7e9605792f5e6643ce31"></a><!-- doxytag: member="debug_new.cpp::new_autocheck_flag" ref="027ddee7deed7e9605792f5e6643ce31" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="debug__new_8h.html#027ddee7deed7e9605792f5e6643ce31">new_autocheck_flag</a> = true          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Flag to control whether <a class="el" href="debug__new_8h.html#d79bbcc90568c9fc2e31bb6a259d594f">check_leaks</a> will be automatically called on program exit. 
<p>

</div>
</div><p>
<a class="anchor" name="e49574fba151ef07654d518cc827434b"></a><!-- doxytag: member="debug_new.cpp::new_output_fp" ref="e49574fba151ef07654d518cc827434b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* <a class="el" href="debug__new_8h.html#e49574fba151ef07654d518cc827434b">new_output_fp</a> = stderr          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pointer to the output stream. 
<p>
The default output is <em>stderr</em>, and one may change it to a user stream if needed (say, <a class="el" href="debug__new_8h.html#9a72bb4cd56352e3b8c7b030d52f6f9c">new_verbose_flag</a> is <code>true</code> and there are a lot of (de)allocations). 
</div>
</div><p>
<a class="anchor" name="84f6ada4e7b4a297bbf16d599e50490c"></a><!-- doxytag: member="debug_new.cpp::new_output_lock" ref="84f6ada4e7b4a297bbf16d599e50490c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfast__mutex.html">fast_mutex</a> <a class="el" href="debug__new_8cpp.html#84f6ada4e7b4a297bbf16d599e50490c">new_output_lock</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The mutex guard to protect simultaneous output to <a class="el" href="debug__new_8h.html#e49574fba151ef07654d518cc827434b">new_output_fp</a>. 
<p>

</div>
</div><p>
<a class="anchor" name="61bfe5a99f6c19a53f71c1d01bdfd982"></a><!-- doxytag: member="debug_new.cpp::new_progname" ref="61bfe5a99f6c19a53f71c1d01bdfd982" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="debug__new_8h.html#61bfe5a99f6c19a53f71c1d01bdfd982">new_progname</a> = _DEBUG_NEW_PROGNAME          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pointer to the program name. 
<p>
Its initial value is the macro <a class="el" href="debug__new_8cpp.html#3f212eaa67d48d8d1dfbdeeb507eb9e5">_DEBUG_NEW_PROGNAME</a>. You should try to assign the program path to it early in your application. Assigning <code>argv[0]</code> to it in <em>main</em> is one way. If you use <em>bash</em> or <em>ksh</em> (or similar), the following statement is probably what you want: `<code>new_progname = getenv("_");</code>'. 
</div>
</div><p>
<a class="anchor" name="c24eda8a669e2aab1fd00fdd6f29a6a0"></a><!-- doxytag: member="debug_new.cpp::new_ptr_list" ref="c24eda8a669e2aab1fd00fdd6f29a6a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnew__ptr__list__t.html">new_ptr_list_t</a> <a class="el" href="debug__new_8cpp.html#c24eda8a669e2aab1fd00fdd6f29a6a0">new_ptr_list</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    &amp;<a class="code" href="debug__new_8cpp.html#c24eda8a669e2aab1fd00fdd6f29a6a0">new_ptr_list</a>,
    &amp;<a class="code" href="debug__new_8cpp.html#c24eda8a669e2aab1fd00fdd6f29a6a0">new_ptr_list</a>,
    0,
    {



        <span class="stringliteral">""</span>

    },
    0,
    0,
    <a class="code" href="debug__new_8cpp.html#2fbd8c9858c93101dd414b04e5fa3d92">MAGIC</a>
}
</pre></div>List of all new'd pointers. 
<p>

</div>
</div><p>
<a class="anchor" name="9cf0f6da1ec153af3836d5c92b652666"></a><!-- doxytag: member="debug_new.cpp::new_ptr_lock" ref="9cf0f6da1ec153af3836d5c92b652666" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfast__mutex.html">fast_mutex</a> <a class="el" href="debug__new_8cpp.html#9cf0f6da1ec153af3836d5c92b652666">new_ptr_lock</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The mutex guard to protect simultaneous access to the pointer list. 
<p>

</div>
</div><p>
<a class="anchor" name="9a72bb4cd56352e3b8c7b030d52f6f9c"></a><!-- doxytag: member="debug_new.cpp::new_verbose_flag" ref="9a72bb4cd56352e3b8c7b030d52f6f9c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="debug__new_8h.html#9a72bb4cd56352e3b8c7b030d52f6f9c">new_verbose_flag</a> = false          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Flag to control whether verbose messages are output. 
<p>

</div>
</div><p>
<a class="anchor" name="4ad72665d96b8cc0509ced244f4e3373"></a><!-- doxytag: member="debug_new.cpp::total_mem_alloc" ref="4ad72665d96b8cc0509ced244f4e3373" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="debug__new_8cpp.html#4ad72665d96b8cc0509ced244f4e3373">total_mem_alloc</a> = 0<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Total memory allocated in bytes. 
<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Tue Dec 30 14:53:12 2008 for Nvwa by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
